version: v1.0
name: BackendWCC
agent:
  machine:
    type: e1-standard-2
    os_image: ubuntu1804
blocks:
  - name: Build WCC Backend
    task:
      jobs:
        - name: Deploy Docker Image
          commands:
            - checkout
            - sem-version node 12
            - echo $SEMAPHORE_GIT_TAG_NAME
            - docker login -u matraz -p oliveira1996
            - 'docker build -t matraz/wcc-back:$SEMAPHORE_GIT_TAG_NAME .'
            - 'docker push matraz/wcc-back:$SEMAPHORE_GIT_TAG_NAME'
